<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>True-size calibration</title>
  <style>
    :root {
      /* 1 mm in CSS pixels (spec assumption) */
      --mm: calc(96px / 25.4);
      /* user-calibrated multiplier */
      --scale: 1; /*This scale factor should be calculated, and saved for reuse to localStorage !!!. Eg.: for my screen it has a value of: 50/52.1 */
    }
    body { font-family: system-ui, sans-serif; margin: 50px; }
    .mm { width: calc(var(--len-mm) * var(--mm) * var(--scale)); height: 0; border-top: 2px solid red; }
    #a4 {
      width: calc(210 * var(--mm) * var(--scale));
      height: calc(297 * var(--mm) * var(--scale));
      outline: 3px solid red; margin-top: 24px;
      background: repeating-linear-gradient(90deg, rgba(255,0,0,.08) 0 1px, transparent 1px 10px);
    }
    label,input,button { font-size: 14px; }
  </style>
</head>
<body>
<h1>Screen calibration</h1>
<p>Measure the red line below with a real ruler.</p>
<div style="--len-mm: 50" class="mm"></div>
<p>
  It should be <strong>50&nbsp;mm</strong>. Enter what you actually measured:
  <input id="measured" type="number" step="0.1" min="1" style="width:8ch"> mm
  <button id="apply">Apply</button>
  <button id="reset">Reset</button>
</p>

<h2>Now your A4 should be true-size on THIS screen</h2>
<div id="a4"></div>

<script>
  const root = document.documentElement;
  const KEY = 'trueSizeScale';
  function setScale(s){ root.style.setProperty('--scale', s); }
  const saved = localStorage.getItem(KEY);
  if (saved) setScale(parseFloat(saved));

  document.getElementById('apply').onclick = () => {
    const measured = parseFloat(document.getElementById('measured').value);
    if (!measured) return;
    // target is 50 mm; if you saw M mm, scale by 50/M
    const scale = 50 / measured;
    setScale(scale);
    localStorage.setItem(KEY, scale);
  };
  document.getElementById('reset').onclick = () => {
    setScale(1);
    localStorage.removeItem(KEY);
  };
</script>
</body>
</html>
