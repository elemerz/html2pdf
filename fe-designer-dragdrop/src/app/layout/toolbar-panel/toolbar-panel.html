<div class="toolbar-panel" data-testid="toolbar-panel">
  @for (category of categories; track category.id) {
    <div class="accordion-item">
      <button 
        class="accordion-header"
        (click)="toggleCategory(category.id)"
        [attr.data-testid]="'category-' + category.id">
        <span>{{ category.label }}</span>
        <span class="chevron" [class.expanded]="expandedCategory() === category.id">‚Ä∫</span>
      </button>
      
      @if (expandedCategory() === category.id) {
        <div class="accordion-content">
          <div class="elements-grid">
            @for (element of getElementsForCategory(category.id); track element.type) {
              <div 
                class="element-item"
                draggable="true"
                (dragstart)="onDragStart($event, element)"
                (dragend)="onDragEnd()"
                [attr.data-testid]="'element-' + element.type">
                <div class="element-preview">
                  @switch (element.type) {
                    @case ('heading') { <h3>Heading</h3> }
                    @case ('paragraph') { <p>Paragraph text</p> }
                    @case ('text') { <span>Text</span> }
                    @case ('div') { <div class="container-preview">Div</div> }
                    @case ('section') { <div class="container-preview">Section</div> }
                    @case ('article') { <div class="container-preview">Article</div> }
                    @case ('image') { <div class="media-preview">üñºÔ∏è Image</div> }
                    @case ('table') { <div class="container-preview">Table</div> }
                    @case ('list') { <ul><li>List</li></ul> }
                    @case ('link') { <a href="#">Link</a> }
                  }
                </div>
              </div>
            }
          </div>
        </div>
      }
    </div>
  }
</div>
