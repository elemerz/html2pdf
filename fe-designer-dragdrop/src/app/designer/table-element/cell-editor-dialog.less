@import '../../../styles/theme.less';

.cell-editor-backdrop {
  position: fixed;
  inset: 0;
  background: fade(@foreground,40%);
  z-index: @z-modal-backdrop;
}

.cell-editor-dialog {
  position: fixed;
  top: 32px; // near top, slight offset
  left: 50%;
  transform: translateX(-50%); // only horizontal centering
  width: 1000px;
  max-width: 95vw;
  background: @surface;
  color: @surface-foreground;
  border: 1px solid @border;
  border-radius: @radius;
  box-shadow: @shadow-lg;
  padding: 12px 14px 14px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  z-index: @z-modal;
}

.dialog-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-weight: 600;
  cursor: move; // indicate draggability
  user-select: none;
}

.close-btn {
  background: transparent;
  border: none;
  cursor: pointer;
  font-size: 16px;
  line-height: 1;
}


.dialog-actions {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
}

.dialog-actions button {
  padding: 6px 14px;
  border: 1px solid @border;
  background: @background;
  cursor: pointer;
  border-radius: @radius-sm;
}

.dialog-actions button.primary {
  background: @primary;
  color: @primary-foreground;
  border-color: @primary;
}

:host ::ng-deep .ql-snow .ql-picker.ql-font .ql-picker-item[data-value="calibri"]::before,
:host ::ng-deep .ql-snow .ql-picker.ql-font .ql-picker-label[data-value="calibri"]::before {
  content: 'Calibri';
  font-family: 'Calibri', sans-serif;
}

:host ::ng-deep .ql-snow .ql-picker.ql-font .ql-picker-item[data-value="kix-barcode"]::before,
:host ::ng-deep .ql-snow .ql-picker.ql-font .ql-picker-label[data-value="kix-barcode"]::before {
  content: 'KIX Barcode';
  /* Use readable font for symbol preview */
  font-family: Arial, Helvetica, sans-serif !important;
}

:host ::ng-deep .ql-snow .ql-picker.ql-font .ql-picker-item[data-value="roboto"]::before,
:host ::ng-deep .ql-snow .ql-picker.ql-font .ql-picker-label[data-value="roboto"]::before {
  content: 'Roboto';
  font-family: 'Roboto', sans-serif;
}

:host ::ng-deep .ql-snow .ql-picker.ql-font .ql-picker-item[data-value="arial"]::before,
:host ::ng-deep .ql-snow .ql-picker.ql-font .ql-picker-label[data-value="arial"]::before {
  content: 'Arial';
  font-family: Arial, Helvetica, sans-serif;
}

:host ::ng-deep .ql-font-calibri {
  font-family: 'Calibri', sans-serif;
}

:host ::ng-deep .ql-font-kix-barcode {
  font-family: 'KIX Barcode';
}

:host ::ng-deep .ql-toolbar.ql-snow {
  position: relative;
}

:host ::ng-deep .ql-toolbar button.ql-symbol {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

:host ::ng-deep .ql-toolbar button.ql-symbol .ql-symbol-icon {
  font-size: 16px;
  font-weight: 600;
  line-height: 1;
}

:host ::ng-deep .ql-toolbar button.ql-symbol.ql-active,
:host ::ng-deep .ql-toolbar button.ql-symbol:hover {
  color: @primary;
}

:host ::ng-deep .ql-toolbar .ql-symbol-palette {
  position: absolute;
  display: none;
  min-width: 384px;
  max-width: min(90vw, 512px);
  background: @surface;
  color: @surface-foreground;
  border: 1px solid @border;
  border-radius: @radius-sm;
  padding: 8px;
  box-shadow: @shadow-lg;
  z-index: @z-tooltip;
  max-height: 400px;
  overflow: auto;
}

:host ::ng-deep .ql-toolbar .ql-symbol-palette.show {
  display: block;
}

:host ::ng-deep .ql-toolbar .ql-symbol-grid {
  display: grid;
  grid-template-columns: repeat(16, 1fr);
  gap: 4px;
}

:host ::ng-deep .ql-toolbar .ql-symbol-option {
  width: 24px;
  height: 24px;
  border: none;
  background: transparent;
  font-size: 16px;
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
  cursor: pointer;
}

:host ::ng-deep .ql-toolbar .ql-symbol-option:hover,
:host ::ng-deep .ql-toolbar .ql-symbol-option:focus {
  background: fade(@primary, 20%);
  color: @primary;
  outline: none;
}
